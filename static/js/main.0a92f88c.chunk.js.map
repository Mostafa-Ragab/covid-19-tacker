{"version":3,"sources":["components/info-box/InfoBox.js","components/util.js","components/map/Map.js","components/table/Table.js","components/chart.js","App.js","index.js"],"names":["InfoBox","title","cases","total","onClick","active","isGreen","Card","className","CardContent","Typography","color","casesTypeColors","hex","multiplier","recovered","deaths","prettyPrintStat","stat","numeral","format","showDataOnMap","data","casesType","map","country","idx","Circle","center","countryInfo","lat","long","fillColor","fillOpacity","radius","Math","sqrt","Popup","style","backgroundImage","flag","sortData","sort","a","b","Map","zoom","countries","MapContainer","TileLayer","url","attribution","Table","options","legend","display","elements","point","maintainAspectRatio","tooltips","mode","intersect","callbacks","label","tooltipItem","value","scales","xAxes","type","time","tooltipFormat","yAxes","gridLines","ticks","callback","index","values","Chart","useState","setData","buildChartData","caseType","lastPoint","chartData","date","newPoint","x","y","push","useEffect","fetch","then","response","json","fetchData","length","datasets","backgroundColor","borderColor","App","setCountries","setCountry","setCountryInfo","tableData","setTableData","lng","mapCenter","setMapCenter","mapZoom","setMapZoom","mapCountries","setMapCountries","setCasesType","res","item","name","iso2","sortedData","OnCountryChange","event","target","FormControl","Select","variant","onChange","MenuItem","todayCases","todayRecovered","todayDeaths","marginTop","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0a92f88c.chunk.js","sourcesContent":["import { Card, CardContent, Typography } from '@material-ui/core';\r\nimport './infoBox.css'\r\nconst InfoBox = ({title,cases,total,onClick,active, isGreen}) => (\r\n    // use callback to pass the onClick.\r\n    <Card className={ `box ${active && 'box--selected'}`} onClick={onClick}>\r\n    <CardContent>\r\n        <Typography className=\"box__title\" color=\"textSecondary\">\r\n            {title}\r\n        </Typography>\r\n        <h2 className={`box__cases ${isGreen && 'box__cases--green'}`}>\r\n            {cases}\r\n        </h2>\r\n        <Typography className=\"box__total\" color=\"textSecondary\" > {total}</Typography>\r\n    </CardContent>\r\n    </Card>\r\n)\r\n\r\n\r\nexport default InfoBox","\r\nimport numeral from \"numeral\";\r\nimport { Circle, Popup } from \"react-leaflet\";\r\n\r\nconst casesTypeColors = {\r\n    cases: {\r\n        hex: \"#1d52d7\",\r\n        multiplier: 300,\r\n    },\r\n    recovered: {\r\n        hex: \"#7dd71d\",\r\n        multiplier: 400,\r\n    },\r\n    deaths: {\r\n        hex: \"#fb4443\",\r\n        multiplier: 2000,\r\n    },\r\n};\r\n//  small utility function to show numbers in a nice format.\r\nexport const prettyPrintStat = (stat) => stat ? `+${numeral(stat).format(\"0.0a\")}` : \"+0\";\r\n\r\nexport const showDataOnMap = (data, casesType = \"cases\") => \r\n    data.map((country ,idx)=> (\r\n        <Circle\r\n            key={idx}\r\n            center={[country.countryInfo.lat, country.countryInfo.long]}\r\n            color={casesTypeColors[casesType].hex}\r\n            fillColor={casesTypeColors[casesType].hex}\r\n            fillOpacity={0.4}\r\n            radius={Math.sqrt(country[casesType]) * casesTypeColors[casesType].multiplier}\r\n        >\r\n            <Popup>\r\n                <div className=\"info-container\">\r\n                    <div\r\n                        className=\"info-flag\"\r\n                        style={{ backgroundImage: `url(${country.countryInfo.flag})` }}\r\n                    ></div>\r\n                    <div className=\"info-name\">{country.country}</div>\r\n                    <div className=\"info-confirmed\">\r\n                        Cases: {numeral(country.cases).format(\"0,0\")}\r\n                    </div>\r\n                    <div className=\"info-recovered\">\r\n                        Recovered: {numeral(country.recovered).format(\"0,0\")}\r\n                    </div>\r\n                    <div className=\"info-deaths\">\r\n                        Deaths: {numeral(country.deaths).format(\"0,0\")}\r\n                    </div>\r\n                </div>\r\n            </Popup>\r\n        </Circle>\r\n    ))\r\n\r\nexport const sortData = (data) => {\r\n    const sortedData = [...data]\r\n    return sortedData.sort((a, b) =>  a.cases > b.cases ? -1 : 1)\r\n}","    import { MapContainer, TileLayer } from \"react-leaflet\";\r\n    import \"./Map.css\";\r\nimport {showDataOnMap} from '../util'\r\n    const Map = ({ center, zoom ,countries,casesType}) => {\r\n        return (\r\n            <div className=\"map\">\r\n                <MapContainer center={center} zoom={zoom}>\r\n                    <TileLayer\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    />\r\n                    {showDataOnMap(countries,casesType)}\r\n                </MapContainer>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    export default Map","import './table.css'\r\nimport numeral from \"numeral\";\r\n\r\nconst Table = ({ countries }) => {\r\n    return (\r\n        <div className=\"table\">\r\n        <table  > \r\n        <tbody  >\r\n            \r\n            {countries.map(({ country, cases }) => (\r\n                <tr key={country}>\r\n                    <td>{country}</td>\r\n                    <td><strong>{numeral(cases).format(\"0,0\")}</strong></td>\r\n                </tr>\r\n            ))}\r\n        </tbody>\r\n        </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table\r\n","import  { useEffect, useState } from 'react'\r\nimport { Line } from 'react-chartjs-2'\r\nimport numeral from 'numeral'\r\n\r\nconst options = {\r\n    legend: {\r\n        display: false,\r\n    },\r\n    elements: {\r\n        point: {\r\n            radius: 0,\r\n        },\r\n    },\r\n    maintainAspectRatio: false,\r\n    tooltips: {\r\n        mode: \"index\",\r\n        intersect: false,\r\n        callbacks: {\r\n            label: function (tooltipItem, data) {\r\n                return numeral(tooltipItem.value).format(\"+0,0\");\r\n            },\r\n        },\r\n    },\r\n    scales: {\r\n        xAxes: [\r\n            {\r\n                type: \"time\",\r\n                time: {\r\n                    format: \"MM/DD/YY\",\r\n                    tooltipFormat: \"ll\",\r\n                },\r\n            },\r\n        ],\r\n        yAxes: [\r\n            {\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                ticks: {\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0a\");\r\n                    },\r\n                },\r\n            },\r\n        ],\r\n    },\r\n};\r\n\r\nconst Chart = ({ casesType=\"cases\" }) => {\r\n    const [data, setData] = useState({})\r\n\r\n    const buildChartData = (data, caseType) => {\r\n        const chartData = []\r\n        let lastPoint;\r\n        for(let date in data.cases){\r\n            if(lastPoint) {\r\n                const newPoint = {\r\n                    x: date,\r\n                    y: data[caseType][date] - lastPoint\r\n                }\r\n                chartData.push(newPoint)\r\n            }\r\n            lastPoint = data[caseType][date]\r\n        }\r\n        return chartData\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            fetch('https://disease.sh/v3/covid-19/historical/all?lastdays=120')\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    const chartData = buildChartData(data, casesType)\r\n                    setData(chartData)\r\n            })\r\n        }\r\n        fetchData()\r\n    }, [casesType])\r\n\r\n    return (\r\n        <div>\r\n            {data?.length > 0 && (\r\n                <Line \r\n                    options={options}\r\n                    data={{\r\n                        datasets: [{\r\n                            backgroundColor: \"rgba(204, 16, 52, 0.5)\",\r\n                            borderColor: \"#CC1034\", \r\n                            data: data,\r\n                            label: casesType\r\n                        }]\r\n                    }}  \r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chart","import { CardContent,Card,FormControl, MenuItem, Select } from '@material-ui/core';\nimport {useState,useEffect} from 'react'\nimport './App.css';\nimport InfoBox from './components/info-box/InfoBox'\nimport Map from './components/map/Map'\nimport Table from './components/table/Table'\nimport numeral from \"numeral\";\nimport {sortData,prettyPrintStat} from './components/util'\nimport Chart from './components/chart'\nimport \"leaflet/dist/leaflet.css\";\n\nfunction App() {\n\n  const [countries, setCountries] = useState([])\n const [country,setCountry] = useState('worldWide')\n const [countryInfo, setCountryInfo] = useState({})\n const [tableData, setTableData] = useState([])\n const [mapCenter, setMapCenter] = useState({lat:34.80746, lng: -40.4796 })\n const [mapZoom, setMapZoom] = useState(3)\n const [mapCountries, setMapCountries] = useState([])\n const [casesType, setCasesType] = useState('cases')\n\n useEffect(() => {\n  const fetchData = async () => {\n    await fetch(\"https://disease.sh/v3/covid-19/countries\")\n    .then(res => res.json())\n    .then(data => {\n      const countries = data.map(item => (\n        {\n          name: item.country,\n          value: item.countryInfo.iso2\n        }\n      ))\n      // sorted data\n      const sortedData = sortData(data)\n      setTableData(sortedData)\n      setMapCountries(data)\n      setCountries(countries)\n   \n    })\n  } \n   \n  fetchData()\n    \n  }, [])\n  useEffect(() => {\n    fetch('https://disease.sh/v3/covid-19/all').then(\n      res => res.json()\n    ).then(countries => {\n      setCountryInfo(countries)\n    })\n  }, [])\n  // trigger and set the set the new country.\n  const OnCountryChange = async (event) => {\n    const url =  event.target.value === 'worldWide'?\n    'https://disease.sh/v3/covid-19/all' :\n    `https://disease.sh/v3/covid-19/countries/${event.target.value}`\n\n   await fetch(url)\n   .then(res => res.json())\n   .then(country => {\n\n     setCountry(event.target.value)\n     setCountryInfo(country)\n     country.countryInfo && setMapCenter([country.countryInfo.lat, country.countryInfo.long])\n     setMapZoom(4)\n   }\n    )\n\n  }\n  return (\n    <div className=\"app\">\n    <div className=\"app__left\">\n\n    <div className=\"app__header\">\n      <h1>COVID-19 TRACKER</h1>\n      <FormControl className=\"app__dropdwon\">\n        <Select variant=\"outlined\" value={country} onChange={OnCountryChange}>\n        <MenuItem value=\"worldWide\">World Wide</MenuItem>\n        {countries.map(country => <MenuItem key={country.name} value={country.value}>{country.name}</MenuItem>\n          )}\n        </Select>\n      </FormControl>\n    </div>\n    <div className=\"app__states\">\n          <InfoBox \n          onClick={() => setCasesType('cases')}\n           title=\"Coronavirus Cases\" \n           active={casesType === 'cases'}\n                cases={prettyPrintStat(countryInfo.todayCases)} total={numeral(countryInfo.cases).format('0.0a')}/>\n          <InfoBox \n          isGreen\n                     active={casesType === 'recovered'}\n\n           onClick={() => setCasesType('recovered')}\n           title=\"Recovered\"   cases={prettyPrintStat(countryInfo.todayRecovered)} total={numeral(countryInfo.recovered).format('0.0a')}/>\n          <InfoBox\n                     active={casesType === 'deaths'}\n\n           onClick={() => setCasesType('deaths')}\n            title=\"Deaths\" cases={prettyPrintStat(countryInfo.todayDeaths)} total={numeral(countryInfo.deaths).format('0.0a')}/>\n\n    </div>\n    <Map center={mapCenter} zoom={mapZoom} countries={mapCountries} casesType={casesType}/>\n    </div>\n    <Card className=\"app__right\">\n        <CardContent>\n          <h3>Live Cases by Country</h3>\n          <Table countries={tableData} />\n          <h3 style={{ marginTop: '25px'}}>World wide new {casesType}</h3>\n          <Chart casesType={casesType} />\n        </CardContent>\n      </Card>\n\n     \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}